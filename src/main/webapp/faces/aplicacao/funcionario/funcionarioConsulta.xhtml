<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/WEB-INF/template/crud/tplConsulta.xhtml">

	<ui:param name="mBean" value="#{funcionarioMBean}" />
	<ui:param name="exibirBotoesPadroes" value="true" />
	<ui:param name="exibirConteudoLista" value="#{mBean.verConteudoLista}" />

	<ui:define name="viewNavigationTrail">
		<h:outputText value="#{mBean}" />
		<h:outputText value="#{exibirConteudoLista}" />
		<br />
		<h:outputText value="#{Labels.funcionario_consulta_navegacao}" />
	</ui:define>
	<ui:define name="tituloPagina">
		<h:outputText value="#{Labels.funcionario_titulo}"
			class="tituloPagina" />
		<br />
		<h:outputText value="#{Labels.funcionario_subtitulo}" />
	</ui:define>

	<ui:define name="conteudoFiltro" />

	<ui:define name="botoesFiltro">
		<p:commandButton value="#{Labels.tooltip_filtrar}"
			icon="ui-icon-search" action="#{mBean.filtrar}" update="form1" />

		<p:commandButton value="#{Labels.tooltip_limpar}"
			icon="ui-icon-document-b" actionListener="#{funcionarioMBean.limpar}"
			update="form1" />

		<p:commandButton value="#{Labels.tooltip_novo}"
			icon="ui-icon-document" action="#{mBean.novo}" />

		<p:button value="#{Labels.tooltip_voltar}"
			icon="ui-icon-arrowthick-1-w" outcome="/faces/principal" />
	</ui:define>

	<ui:define name="conteudoLista">
		<p:dataTable value="#{mBean.funcionarios}" var="obj" paginator="true"
			rows="12" paginatorPosition="bottom"
			rowsPerPageTemplate="12,24,36,48"
			emptyMessage="#{Labels.lbl_default_NoRecordFont}">

			<p:column headerText="ID" sortBy="#{funcionario.id}">
				<h:outputText value="#{obj.id}" />
			</p:column>
			<p:column headerText="NOME" sortBy="#{obj.nome}">
				<h:outputText value="#{obj.nome}" />
			</p:column>
			<p:column headerText="SOBRENOME" sortBy="#{obj.sobrenome}">
				<h:outputText value="#{obj.sobrenome}" />
			</p:column>

			<p:column headerText="#{Labels.acoes}"
				style="width:10%; text-align: center;">
				
				<p:commandButton actionListener="#{mBean.detalhe(obj)}"
					title="#{Labels.editar}" icon="ui-icon-search">
				</p:commandButton>

				<p:commandButton
					onclick="javascript:return confirm('#{Mensagens.confirmaExclusao}')"
					icon="ui-icon-trash" title="#{Labels.tooltip_excluir}"
					immediate="true" actionListener="#{mBean.excluir(obj)}"
					update="@form">
				</p:commandButton>
				
			</p:column>

		</p:dataTable>
	</ui:define>

</ui:composition>